# 快速参考手册

本手册提供计算机组成原理课程中的关键公式、表格和速查信息。

---

## 一、数制转换

### 常用进制对照表

| 十进制 | 二进制 | 八进制 | 十六进制 |
|--------|--------|--------|----------|
| 0      | 0000   | 0      | 0        |
| 1      | 0001   | 1      | 1        |
| 2      | 0010   | 2      | 2        |
| 3      | 0011   | 3      | 3        |
| 4      | 0100   | 4      | 4        |
| 5      | 0101   | 5      | 5        |
| 6      | 0110   | 6      | 6        |
| 7      | 0111   | 7      | 7        |
| 8      | 1000   | 10     | 8        |
| 9      | 1001   | 11     | 9        |
| 10     | 1010   | 12     | A        |
| 11     | 1011   | 13     | B        |
| 12     | 1100   | 14     | C        |
| 13     | 1101   | 15     | D        |
| 14     | 1110   | 16     | E        |
| 15     | 1111   | 17     | F        |

### 转换公式

- **二进制→十进制**：按权展开，∑(a_i × 2^i)
- **十进制→二进制**：整数部分除2取余，小数部分乘2取整
- **二进制↔八进制**：3位一组
- **二进制↔十六进制**：4位一组

---

## 二、定点数编码

### 原码、反码、补码对比

| 编码 | 正数表示 | 负数表示 | 零的表示 | 表示范围（n位） |
|------|----------|----------|----------|-----------------|
| 原码 | 0 + 真值 | 1 + 真值 | +0和-0  | -(2^(n-1)-1) ~ +(2^(n-1)-1) |
| 反码 | 同原码   | 符号位不变，数值位取反 | +0和-0 | 同原码 |
| 补码 | 同原码   | 反码+1   | 唯一的0  | -2^(n-1) ~ +(2^(n-1)-1) |

### 补码快速求法

- **正数**：与原码相同
- **负数**：从右向左，遇到第一个1之前的位全部保持不变，第一个1之后的位全部取反

**示例**：求 -6 的8位补码
1. +6的原码：00000110
2. 按位取反+1：11111010（标准方法）
3. 快速法：从右向左找第一个1（位2），之前保持不变，之后取反：11111010 ✓

---

## 三、浮点数（IEEE 754）

### 单精度（32位）

| 符号位 | 阶码 | 尾数 |
|--------|------|------|
| 1位    | 8位  | 23位 |

- **偏移量**：127
- **表示范围**：约 ±1.2×10^(-38) ~ ±3.4×10^38
- **精度**：约7位十进制数

### 双精度（64位）

| 符号位 | 阶码 | 尾数 |
|--------|------|------|
| 1位    | 11位 | 52位 |

- **偏移量**：1023
- **表示范围**：约 ±2.2×10^(-308) ~ ±1.8×10^308
- **精度**：约16位十进制数

### 特殊值

| 阶码 | 尾数 | 表示 |
|------|------|------|
| 全0  | 全0  | ±0   |
| 全1  | 全0  | ±∞   |
| 全1  | 非0  | NaN  |

---

## 四、存储系统参数

### 典型访问时间

| 存储层次 | 容量范围 | 访问时间 | 带宽 |
|----------|----------|----------|------|
| 寄存器   | 几十~几百字节 | < 1ns | 很高 |
| L1 Cache | 32KB~64KB | 1~2ns | 很高 |
| L2 Cache | 256KB~512KB | 3~10ns | 高 |
| L3 Cache | 2MB~32MB | 10~20ns | 中 |
| 主存(DRAM) | 4GB~128GB | 50~100ns | 中 |
| SSD      | 128GB~2TB | 0.1~0.5ms | 中 |
| 磁盘(HDD) | 500GB~10TB | 5~15ms | 低 |

### Cache地址划分

**直接映射**：
```
主存地址 = [标记 | 行号 | 块内地址]
```

**组相联映射**：
```
主存地址 = [标记 | 组号 | 块内地址]
```

**全相联映射**：
```
主存地址 = [标记 | 块内地址]
```

### Cache性能计算

- **命中率（Hit Rate）**：H = 命中次数 / 总访问次数
- **缺失率（Miss Rate）**：M = 1 - H
- **平均访问时间（AMAT）**：
  ```
  AMAT = 命中时间 + 缺失率 × 缺失代价
       = T_cache + (1 - H) × T_memory
  ```

---

## 五、虚拟存储器

### 地址划分

```
虚拟地址 = [虚拟页号 | 页内偏移]
物理地址 = [物理页框号 | 页内偏移]
```

### 地址位数计算

- 虚拟地址位数 = log₂(虚拟地址空间大小)
- 物理地址位数 = log₂(物理地址空间大小)
- 页内偏移位数 = log₂(页大小)
- 页号位数 = 地址位数 - 页内偏移位数

### 页表项数

```
页表项数 = 虚拟地址空间大小 / 页大小
```

---

## 六、性能计算公式

### CPU性能

- **CPU时间**：
  ```
  CPU_time = 指令数 × CPI × 时钟周期
           = 指令数 × CPI / 时钟频率
  ```

- **CPI（每指令周期数）**：
  ```
  CPI = 总时钟周期数 / 指令数
  ```

- **MIPS（每秒百万指令数）**：
  ```
  MIPS = 时钟频率(MHz) / CPI
       = 指令数 / (执行时间 × 10^6)
  ```

- **FLOPS（每秒浮点运算次数）**：
  ```
  FLOPS = 浮点运算次数 / 执行时间
  ```

### 加速比

```
加速比 = 改进前执行时间 / 改进后执行时间
```

---

## 七、逻辑门符号

```
与门(AND):   ───┐
              ───┤>───
                └

或门(OR):    ───┐
              ───┤≥1───
                └

非门(NOT):   ───┤>○───

与非门(NAND):───┐
              ───┤>○───
                └

或非门(NOR): ───┐
              ───┤≥1○───
                └

异或门(XOR): ───┐
              ───┤=1───
                └
```

---

## 八、常用缩写

| 缩写 | 全称 | 中文 |
|------|------|------|
| ALU  | Arithmetic Logic Unit | 算术逻辑单元 |
| CPU  | Central Processing Unit | 中央处理器 |
| CU   | Control Unit | 控制单元 |
| ISA  | Instruction Set Architecture | 指令集体系结构 |
| PC   | Program Counter | 程序计数器 |
| IR   | Instruction Register | 指令寄存器 |
| MAR  | Memory Address Register | 存储器地址寄存器 |
| MDR  | Memory Data Register | 存储器数据寄存器 |
| SRAM | Static Random Access Memory | 静态随机存储器 |
| DRAM | Dynamic Random Access Memory | 动态随机存储器 |
| TLB  | Translation Lookaside Buffer | 快表/转换后备缓冲器 |
| RAID | Redundant Array of Independent Disks | 独立磁盘冗余阵列 |
| SSD  | Solid State Drive | 固态硬盘 |
| HDD  | Hard Disk Drive | 机械硬盘 |
| CISC | Complex Instruction Set Computer | 复杂指令集计算机 |
| RISC | Reduced Instruction Set Computer | 精简指令集计算机 |

---

## 九、常见错误与提示

### 补码运算

✗ **错误**：忽略溢出判断
✓ **正确**：使用双符号位法或进位异或法判断溢出

✗ **错误**：符号位单独处理
✓ **正确**：补码运算中符号位参与运算

### Cache分析

✗ **错误**：混淆字节地址与字地址
✓ **正确**：注意题目的编址方式（按字节/按字）

✗ **错误**：忽略块大小对地址划分的影响
✓ **正确**：块内地址位数 = log₂(块大小)

### 虚拟存储器

✗ **错误**：混淆虚拟页号与物理页框号
✓ **正确**：通过页表将虚拟页号转换为物理页框号

---

## 十、检查清单

### 考前必备知识点

**第一章**：
- [ ] 五大功能部件
- [ ] 冯·诺依曼结构
- [ ] ISA的概念
- [ ] CPU性能指标计算

**第二章**：
- [ ] 数制转换（各种进制互转）
- [ ] 补码表示与运算
- [ ] 溢出判断
- [ ] IEEE 754浮点数格式
- [ ] ALU基本功能

**第三章**：
- [ ] 存储层次结构
- [ ] SRAM与DRAM区别
- [ ] Cache映射方式（直接、全相联、组相联）
- [ ] Cache替换算法（LRU、FIFO）
- [ ] 虚拟地址转换
- [ ] TLB的作用
- [ ] 磁盘访问时间计算

---

**使用建议**：
1. 打印本手册随身携带
2. 做题时快速查阅公式和表格
3. 考前重点复习检查清单中的内容